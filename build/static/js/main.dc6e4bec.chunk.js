(this["webpackJsonpdesigner-template"]=this["webpackJsonpdesigner-template"]||[]).push([[0],{153:function(e,t,n){},232:function(e,t,n){},248:function(e,t,n){},251:function(e,t,n){},254:function(e,t,n){},257:function(e,t,n){},259:function(e,t,n){},260:function(e,t,n){},269:function(e,t,n){},270:function(e,t,n){},288:function(e,t,n){},386:function(e,t,n){},387:function(e,t,n){},388:function(e,t,n){},391:function(e,t,n){},392:function(e,t,n){},393:function(e,t,n){},394:function(e,t,n){},396:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(23),o=n.n(r),s=n(25),i=n(21),l=n(4),u=n(9),d=n(195),j=n.n(d).a.create({baseURL:"https://papiro-backend-design-module.herokuapp.com/"}),b=n(18),m=(n(232),n(2)),h=function(e){return Object(m.jsx)("button",{type:"button",className:"btn btn-primary btn-lg my-2 w-100",children:e.label})},f=n(408),O=(n(234),n(248),function(e){return Object(m.jsx)(f.a,{defaultActiveKey:"0",children:Object(m.jsxs)(f.a.Item,{eventKey:"1",children:[Object(m.jsxs)(f.a.Header,{children:[Object(m.jsx)(b.l,{}),e.username]}),Object(m.jsx)(f.a.Body,{children:Object(m.jsx)("a",{children:"Logout"})})]})})}),p=(n(251),function(e){return Object(m.jsxs)("li",{className:"nav-item d-flex align-items-center ".concat(e.isActive?"active":""," w-100 my-1 rounded-pill"),children:[e.icon,Object(m.jsx)(s.b,{to:e.path,className:"nav-link",children:e.title})]})}),x=(n(254),function(e){var t=Object(i.h)().pathname.split(","),n=[{title:"Home",icon:Object(m.jsx)(b.g,{}),path:"/home"},{title:"Explore",icon:Object(m.jsx)(b.f,{}),path:"/explore"},{title:"Analytics",icon:Object(m.jsx)(b.a,{}),path:"/analytics"},{title:"Quizzes",icon:Object(m.jsx)(b.c,{}),path:"/quizzes"},{title:"Library",icon:Object(m.jsx)(b.b,{}),path:"/library"},{title:"Lists",icon:Object(m.jsx)(b.h,{}),path:"/lists"},{title:"Profile",icon:Object(m.jsx)(b.k,{}),path:"/profile"}];return Object(m.jsxs)("nav",{className:"nav d-flex flex-column justify-content-between min-vh-100 sticky-top p-1",children:[Object(m.jsxs)("div",{children:[Object(m.jsx)(s.b,{to:"/home",className:"navbar-brand",children:Object(m.jsx)("img",{src:"data:image/png;base64,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",alt:"Papiro logo"})}),n.map((function(e,n){return Object(m.jsx)(p,{icon:e.icon,path:e.path,title:e.title,isActive:t[0]===e.path},"sidebarTopic-".concat(n))})),Object(m.jsxs)("li",{className:"nav-item d-flex align-items-center",children:[Object(m.jsx)(b.o,{}),Object(m.jsx)(s.b,{to:"#",className:"nav-link",children:"More"})]}),e.children,Object(m.jsx)(h,{label:"New Game"})]}),Object(m.jsx)(O,{username:"Fulano de Tal"})]})}),v=n(5),g=n.n(v),N=n(11),y=(n(73),n(257),n(82)),w=n(28),C=n.n(w),S=function(){Object(i.g)();var e=Object(a.useState)(""),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(""),o=Object(l.a)(r,2),s=o[0],d=o[1],b=Object(a.useState)(""),h=Object(l.a)(b,2),f=h[0],O=h[1],p=Object(a.useState)(""),x=Object(l.a)(p,2),v=(x[0],x[1],Object(a.useState)(!1)),w=Object(l.a)(v,2),S=w[0],k=(w[1],Object(a.useState)("")),A=Object(l.a)(k,2),E=A[0],T=(A[1],Object(a.useState)("")),I=Object(l.a)(T,2),F=I[0],D=(I[1],Object(a.useState)(null)),R=Object(l.a)(D,2),G=R[0],B=(R[1],Object(a.useState)()),L=Object(l.a)(B,2),U=(L[0],L[1],Object(a.useState)(null)),P=Object(l.a)(U,2),z=(P[0],P[1]),H=Object(a.useState)([]),J=Object(l.a)(H,2),_=J[0],V=J[1],q=function(){var e=Object(N.a)(g.a.mark((function e(t){var a,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=u.a.auth(),(c=new FormData).set("title",n),c.set("description",s),c.set("default_node_color",E),c.set("default_text_color",F),c.set("template",S?"true":"false"),c.set("background_color",f),c.set("background_image",G),_.map((function(e){return c.append("image",e.slice(),"".concat(Date.now()).concat(Object(y.extname)(e.name)))})),!a.currentUser){e.next=15;break}return c.append("userID",a.currentUser.uid),e.next=15,j.post("game/create",c,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){console.log(e.data),z(e.data._id),C.a.fire({icon:"success",title:"Jogo criado com sucesso",text:"Seu jogo foi criado com sucesso!"}).then((function(){return window.location.reload()}))})).catch((function(e){console.error(e),C.a.fire({icon:"error",title:"Oops...",text:"Falha ao criar jogo, favor tente mais tarde."})}));case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsxs)(a.Fragment,{children:[Object(m.jsx)("button",{type:"button",className:"btn btn-primary mx-1","data-bs-toggle":"modal","data-bs-target":"#gameCardModal",children:"Add Game"}),Object(m.jsx)("div",{className:"modal fade",id:"gameCardModal",tabIndex:-1,"aria-hidden":"true",children:Object(m.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-dialog-scrollable",children:Object(m.jsxs)("div",{className:"modal-content",children:[Object(m.jsxs)("div",{className:"modal-header",children:[Object(m.jsx)("h5",{className:"modal-title",id:"gameCardTitle",children:"Create a New Game"}),Object(m.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(m.jsx)("div",{className:"modal-body",children:Object(m.jsxs)("form",{onSubmit:q,children:[Object(m.jsx)("div",{className:"mb-3",children:Object(m.jsx)("input",{type:"file",className:"form-control",id:"inputGameTitle",onChange:function(e){var t=e.target.files,n=[];Object.values(t).map((function(e){return n.push(e)})),V(_.concat(n))}})}),Object(m.jsxs)("div",{className:"mb-3",children:[Object(m.jsx)("label",{htmlFor:"inputGameTitle",className:"form-label",children:"Title"}),Object(m.jsx)("input",{type:"text",className:"form-control",id:"inputGameTitle",placeholder:"Large",onChange:function(e){return c(e.target.value)}})]}),Object(m.jsxs)("div",{className:"mb-3",children:[Object(m.jsx)("label",{htmlFor:"gameDescription",className:"form-label",children:"Description"}),Object(m.jsx)("textarea",{className:"form-control",id:"gameDescription",onChange:function(e){return d(e.target.value)}})]}),Object(m.jsxs)("div",{className:"f-flex flex-row mb-3",children:[Object(m.jsx)("div",{className:"gameLogo rounded-pill"}),Object(m.jsxs)("div",{className:"gameContent d-flex flex-column",children:[Object(m.jsx)("label",{htmlFor:"defaultColor",className:"form-label",children:"Default background"}),Object(m.jsx)("input",{type:"text",className:"form-control",id:"defaultColor",placeholder:"Medium",onChange:function(e){return O(e.target.value)}})]})]}),Object(m.jsx)("div",{className:"mb-3",children:Object(m.jsxs)("div",{className:"row",children:[Object(m.jsxs)("div",{className:"col-8",children:[Object(m.jsx)("label",{htmlFor:"colorPallete",className:"form-label",children:"Color pallete"}),Object(m.jsx)("select",{name:"colorPallete",id:"colorPallete",className:"form-select",children:Object(m.jsx)("option",{children:"Medium"})})]}),Object(m.jsxs)("div",{className:"col-4 d-flex align-items-end",children:[Object(m.jsx)("button",{className:"btn btn-pallet-1 mx-1 w-25 h-50 rounded-pill",onClick:function(){return console.log("pallet-1")}}),Object(m.jsx)("button",{className:"btn btn-pallet-2 mx-1 w-25 h-50 rounded-pill",onClick:function(){return console.log("pallet-2")}}),Object(m.jsx)("button",{className:"btn btn-pallet-3 mx-1 w-25 h-50 rounded-pill",onClick:function(){return console.log("pallet-3")}})]})]})}),Object(m.jsx)("div",{className:"modal-footer",children:Object(m.jsx)("input",{type:"submit",value:"Create a new game!",className:"btn btn-primary w-100"})})]})})]})})})]})},k=function(e){return Object(m.jsxs)("div",{className:"accordion-item",children:[Object(m.jsx)("h2",{className:"accordion-header",id:"heading-".concat(e.index),children:Object(m.jsx)("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapse-".concat(e.index),"aria-expanded":"false","aria-controls":"collapse-".concat(e.index),children:e.title})}),Object(m.jsx)("div",{id:"collapse-".concat(e.index),className:"accordion-collapse collapse","aria-labelledby":"heading-".concat(e.index),"data-bs-parent":"#accordionExample1",children:Object(m.jsx)("div",{className:"accordion-body",children:""===e.content?"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Quisquam a cupiditate reiciendis architecto consequuntur, minus accusamus aliquid dolor ut quaerat maxime deserunt, nesciunt reprehenderit laudantium deleniti voluptatum in pariatur sit.":e.content})})]})},A=(n(259),function(){return Object(m.jsxs)("div",{className:"input-group",children:[Object(m.jsx)("input",{type:"text",name:"search",id:"search",placeholder:"Search Papiro",className:"form-control"}),Object(m.jsx)("span",{className:"input-group-text",children:Object(m.jsx)(b.n,{})})]})}),E=function(){return Object(m.jsxs)(c.a.Fragment,{children:[Object(m.jsx)(A,{}),Object(m.jsxs)("div",{className:"accordion",id:"accordionExample1",children:[Object(m.jsx)("h3",{children:"New Releases"}),[{title:"Release Item 1",content:""},{title:"Release Item 1",content:""},{title:"Release Item 1",content:""},{title:"Release Item 1",content:""},{title:"Release Item 1",content:""}].map((function(e,t){return Object(m.jsx)(k,{title:e.title,content:e.content,index:t},"newReleaseBarItem-".concat(t))})),Object(m.jsx)("h6",{children:"Show more"})]})]})},T=(n(260),function(e){var t=Object(i.g)();return Object(m.jsxs)("div",{className:"card m-2 p-0",children:[Object(m.jsx)("div",{className:"img-wrapper",children:Object(m.jsx)("img",{src:e.imgUrl,className:"img-card-top"})}),Object(m.jsxs)("div",{className:"card-body p-0",children:[Object(m.jsxs)("div",{className:"card-text-content",children:[Object(m.jsx)("h5",{className:"card-title",children:e.title}),Object(m.jsx)("p",{className:"card-text",children:e.content})]}),Object(m.jsxs)("div",{className:"card-footer",children:[Object(m.jsx)("a",{href:"#",className:"btn btn-edit",onClick:function(){return n=e.gameID,void t.push({pathname:"/editor",search:"?game="+n,state:{gameID:n}});var n},children:Object(m.jsx)(b.i,{})}),Object(m.jsx)("a",{href:"#",className:"btn btn-play",children:Object(m.jsx)(b.m,{})}),Object(m.jsx)("a",{href:"#",className:"btn btn-delete",onClick:function(){return t=e.gameID,C.a.fire({title:"Voc\xea tem certeza que deseja excluir este jogo ?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#F8BA63",cancelButtonColor:"#d33",confirmButtonText:"Sim, tenho certeza !"}).then(function(){var e=Object(N.a)(g.a.mark((function e(n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.isConfirmed){e.next=3;break}return e.next=3,j.delete("game/".concat(t)).then((function(){C.a.fire("Jogo removido!","Seu jogo foi removido com sucesso.","success").finally((function(){return window.location.reload()}))})).catch((function(e){console.error(e),C.a.fire("Falha ao remover jogo!","Falha ao remover jogo, favor tente mais tarde.","error")}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var t},children:Object(m.jsx)(b.e,{})})]})]})]})}),I=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){var e;j.get("game/userGames/".concat(null===(e=u.a.auth().currentUser)||void 0===e?void 0:e.uid)).then((function(e){return c(e.data.game)})).catch((function(e){return console.error(e)}))}),[]),Object(m.jsx)("div",{className:"container-fluid bg-surface min-vh-100",children:Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)("div",{className:"col bg-surface min-vh-100",children:Object(m.jsx)(x,{})}),Object(m.jsxs)("div",{className:"col-7 d-flex flex-column my-1 p-0",children:[Object(m.jsxs)("div",{className:"row flex-row justify-align-content-between w-100",children:[Object(m.jsx)("div",{className:"col d-flex flex-row justify-content-start p-0",children:Object(m.jsx)("h3",{className:"text-white",children:"Your Games"})}),Object(m.jsx)("div",{className:"col d-flex flex-row justify-content-end p-0",children:Object(m.jsx)(S,{})})]}),Object(m.jsx)("div",{className:"row w-100 d-flex flex-row flex-wrap justify-content-center p-0 m-0",children:0===n.length?Object(m.jsx)("p",{className:"description",children:"N\xe3o h\xe1 jogos criados. Para come\xe7ar, voc\xea pode criar um novo jogo no menu ao lado."}):n.map((function(e){return Object(m.jsx)(T,{gameID:e._id,title:e.title,content:e.description,imgUrl:e.image&&"default.jpg"!==e.image?"".concat("https://papiro-backend-design-module.herokuapp.com/","home/card/img/games/").concat(e.image):"".concat("https://papiro-backend-design-module.herokuapp.com/","home/card/img/games/default.jpg")},e._id)}))})]}),Object(m.jsx)("div",{className:"col-3 bg-surface sticky-top min-vh-100 p-1",children:Object(m.jsx)(E,{})})]})})},F=n(197),D=n.n(F),R="https://papiro-backend-design-module.herokuapp.com/",G=u.a.initializeApp({apiKey:"AIzaSyBq0lhIQkypfwk6dO-draq_Q-c0jNp17W4",authDomain:"papiro-design-module.firebaseapp.com",projectId:"papiro-design-module",storageBucket:"papiro-design-module.appspot.com",messagingSenderId:"797347042815",appId:"1:797347042815:web:22f8558abbfeee71bbc3ca"}),B={callbacks:{signInSuccessWithAuthResult:function(e){try{var t,n,a;console.log("opa"),fetch(R+"message/send",{method:"POST",headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"},body:JSON.stringify({userID:null===(t=u.a.auth().currentUser)||void 0===t?void 0:t.uid,userName:null===(n=u.a.auth().currentUser)||void 0===n?void 0:n.displayName,userEmail:null===(a=u.a.auth().currentUser)||void 0===a?void 0:a.email})}).then((function(){return window.location.assign("/home")}))}catch(c){console.log("erro ao enviar mensagem: "+c)}return!1}},signInFlow:"popup",signInSuccessUrl:"/dashboard",signInOptions:[u.a.auth.EmailAuthProvider.PROVIDER_ID,u.a.auth.GoogleAuthProvider.PROVIDER_ID]};var L=function(){return Object(m.jsx)("div",{children:Object(m.jsx)(D.a,{uiConfig:B,firebaseAuth:G.auth()})})},U=n(3),P=n(6),z=c.a.createContext({}),H=function(e){var t=e.children,n=Object(a.useState)(null),c=Object(l.a)(n,2),r=c[0],o=c[1],s=Object(a.useState)(!0),i=Object(l.a)(s,2),u=i[0],d=i[1];return Object(a.useEffect)((function(){G.auth().onAuthStateChanged((function(e){o(e),d(!1)}))}),[]),u?Object(m.jsx)(m.Fragment,{children:"Loading..."}):Object(m.jsx)(z.Provider,{value:{currentUser:r},children:t})},J=["component"],_=function(e){var t=e.component,n=Object(P.a)(e,J),c=Object(a.useContext)(z).currentUser;return t?Object(m.jsx)(i.b,Object(U.a)(Object(U.a)({},n),{},{render:function(e){return c?Object(m.jsx)(t,Object(U.a)({},e)):Object(m.jsx)(i.a,{to:"/"})}})):null},V=n(54),q=n(20);n(269);n(270);var W=n(207),K=n(128),M=n.n(K);n(153);function Y(e){return Object(a.useEffect)((function(){M.a.setAppElement("#root")})),Object(m.jsx)(M.a,{isOpen:e.openModal,onRequestClose:e.closeModal,style:{overlay:{zIndex:1e3,height:"100vh",backgroundColor:"rgba(0, 2, 5, 0.8)"},content:{borderRadius:"5%",border:"0",overflowy:"auto",maxHeight:"90vh",top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",boxShadow:"0 0 30px 0 rgba(0, 0, 0, 0.25)",paddingBottom:"20px",backgroundColor:"#262626",color:"#8b927d"}},children:e.children})}var X=function(e){var t=e.data,n=Object(a.useState)({value:"",label:""}),c=Object(l.a)(n,2),r=c[0],o=c[1],s=Object(a.useState)(""),i=Object(l.a)(s,2),u=i[0],d=i[1],j=Object(a.useState)(""),b=Object(l.a)(j,2),h=b[0],f=b[1],O=Object(a.useState)(""),p=Object(l.a)(O,2),x=(p[0],p[1]),v=Object(a.useState)(!1),y=Object(l.a)(v,2),w=y[0],C=y[1],S=Object(a.useState)(0),k=Object(l.a)(S,2),A=k[0],E=k[1],T=window.location.search,I=new URLSearchParams(T),F=function(){C(!1)},D=function(){var e=Object(N.a)(g.a.mark((function e(n,a,c){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(R,"node/edit/").concat(c),{method:"PUT",headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"},body:JSON.stringify({name:n})});case 3:t.onFormSaveClick(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log("erro ao criar card: "+e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n,a){return e.apply(this,arguments)}}(),G=function(){var e=Object(N.a)(g.a.mark((function e(t,n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(R,"node/edit/nextnodes/").concat(n),{method:"PUT",headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"},body:JSON.stringify({nextNodes:Array({id:t,choice:""})})});case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),B=function(){var e=Object(N.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(R+"game/"+I.get("game"),{method:"GET",headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(N.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(R+"connection/current/"+t,{method:"GET",headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}});case 2:return n=e.sent,e.next=5,n.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){function e(){return(e=Object(N.a)(g.a.mark((function e(){var n,a,c,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B();case 2:return n=e.sent,e.next=5,n.json();case 5:a=e.sent,"",c="",r=0,console.log(a.game.nodes),""!==h&&a.game.nodes.forEach((function(e){-1===e._id.search("react")&&(console.log(e.name+" == "+t.title),e.name===t.title&&(e._id,x(e._id)),e.name===h&&(r=1,c=e._id))})),D(u,c,t.id),""!==h&&(1===r?U(t.id,c):(t.createNodeConnectionForm(h),setTimeout(Object(N.a)(g.a.mark((function e(){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(t.id);case 2:n=e.sent,G(n.nodeLastConnection[0].target,t.id),t.onFormSaveClick();case 5:case"end":return e.stop()}}),e)}))),5e3)));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}A>0&&function(){e.apply(this,arguments)}()}),[A]);var U=function(){var e=Object(N.a)(g.a.mark((function e(t,n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return G(n,t),e.next=3,fetch(R+"connection/create",{method:"POST",headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"},body:JSON.stringify({_id:"react"+t+"-"+n,source:t,target:n,gameId:I.get("game")})});case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),P={display:"flex",alignItems:"center",justifyContent:"space-between"},z={backgroundColor:"#EBECF0",borderRadius:"2em",color:"#172B4D",display:"inline-block",fontSize:12,lineHeight:"1",minWidth:1,padding:"0.16666666666667em 0.5em"},H=[{value:"Chocolate",label:"Chocolate"},{value:"Vanilla",label:"Vanilla"}];return Object(a.useEffect)((function(){d(t.title)}),[]),Object(m.jsxs)("div",{className:"customNodeContainer",children:[Object(m.jsx)(q.c,{type:"target",id:"a",position:q.e.Left,style:{border:0,background:"rgba(0,0,0,0.0)",width:10,height:10,borderRadius:"50%"}}),Object(m.jsx)(q.c,{type:"source",id:"b",position:q.e.Right,style:{border:0,background:"rgba(0,0,0,0.0)",width:10,height:10,top:"40%",borderRadius:"50%"}}),Object(m.jsx)(q.c,{type:"source",id:"c",position:q.e.Right,style:{border:0,background:"rgba(0,0,0,0.0)",width:10,height:10,top:"60%",borderRadius:"50%"}}),Object(m.jsxs)("div",{className:"body_container",children:[Object(m.jsx)("label",{className:"title",children:t.title?t.title:"Cart\xe3o Sem Nome"}),Object(m.jsx)(W.a,{value:void 0===r.value?H[0]:r,options:H,formatGroupLabel:function(e){return Object(m.jsxs)("div",{style:P,children:[Object(m.jsx)("span",{children:e.label}),Object(m.jsx)("span",{style:z,children:e.options.length})]})},onChange:function(e){return function(e){o({value:e.value,label:e.label})}(e)}})]}),Object(m.jsx)("div",{className:"edit_container",children:Object(m.jsx)("div",{className:"edit_button",onClick:function(){C(!0)},children:Object(m.jsx)("span",{children:"editar"})})}),Object(m.jsxs)(Y,{openModal:w,closeModal:F,children:[Object(m.jsxs)("div",{className:"form_row",children:[Object(m.jsxs)("div",{className:"form_group field",children:[Object(m.jsx)("input",{className:"form_field",value:u,name:"title",placeholder:"Title",type:"text",onChange:function(e){return function(e){d(e.target.value)}(e)}}),Object(m.jsx)("label",{className:"form_label",children:"T\xedtulo"})]}),Object(m.jsxs)("div",{className:"form_group field",children:[Object(m.jsx)("input",{className:"form_field",name:"Node",placeholder:"N\xf3",type:"text",onChange:function(e){return function(e){f(e.target.value)}(e)}}),Object(m.jsx)("label",{className:"form_label",children:"Pr\xf3ximo Card"})]})]}),Object(m.jsxs)("div",{className:"form_buttons",children:[Object(m.jsx)("span",{className:"cancel",onClick:F,children:"Cancelar"}),Object(m.jsx)("span",{className:"button_style",onClick:function(){E((function(e){return e+1})),F()},children:"Salvar"})]})]})]})},Q=n(406),Z=n(201),$=n(200),ee=(n(288),n(126)),te=n(199),ne=(n(384),n(385),n(386),function(e){var t=Object(a.useState)((function(){return ee.EditorState.createEmpty()})),n=Object(l.a)(t,2),c=n[0],r=n[1];return Object(m.jsx)(te.Editor,{editorState:c,onEditorStateChange:r,toolbar:{inline:{inDropdown:!0},list:{inDropdown:!0},textAlign:{inDropdown:!0},link:{inDropdown:!0},history:{inDropdown:!0}},onChange:function(t){return function(t){return e.onChangeDescription(t)}(t)},placeholder:"Adicione uma descri\xe7\xe3o para o jogo :)."})}),ae=function(){return Object(m.jsxs)(a.Fragment,{children:[Object(m.jsx)("div",{className:"mb-3",children:Object(m.jsx)("button",{className:"btn btn-outline-primary",children:"Add new"})}),Object(m.jsxs)("div",{className:"row mb-3",children:[Object(m.jsxs)("div",{className:"col",children:[Object(m.jsx)("label",{htmlFor:"choiceField",className:"form-label",children:"Choice"}),Object(m.jsx)("input",{type:"text",className:"form-control",placeholder:"Small",id:"choiceField"})]}),Object(m.jsxs)("div",{className:"col",children:[Object(m.jsx)("label",{htmlFor:"cardField",className:"form-label",children:"Card"}),Object(m.jsx)("select",{className:"form-select",placeholder:"Small","aria-label":"Small",id:"cardField",children:Object(m.jsx)("option",{selected:!0,children:"Small"})})]})]})]})},ce=function(){return Object(m.jsxs)(a.Fragment,{children:[Object(m.jsx)("label",{htmlFor:"newTagsField",className:"form-label",children:"New Tags"}),Object(m.jsx)("select",{className:"form-select",placeholder:"Small",id:"newTagsField","aria-label":"Large",children:Object(m.jsx)("option",{selected:!0,children:"Large"})})]})},re=function(){return Object(m.jsxs)("div",{className:"row",children:[Object(m.jsxs)("div",{className:"col-8",children:[Object(m.jsx)("label",{htmlFor:"colorPallete",className:"form-label",children:"Color pallete"}),Object(m.jsx)("select",{name:"colorPallete",id:"colorPallete",className:"form-select",children:Object(m.jsx)("option",{selected:!0,children:"Medium"})})]}),Object(m.jsxs)("div",{className:"col-4 d-flex align-items-end",children:[Object(m.jsx)("button",{className:"btn btn-pallet-1 mx-1 w-25 h-50 rounded-pill",onClick:function(){return console.log("pallet-1")}}),Object(m.jsx)("button",{className:"btn btn-pallet-2 mx-1 w-25 h-50 rounded-pill",onClick:function(){return console.log("pallet-2")}}),Object(m.jsx)("button",{className:"btn btn-pallet-3 mx-1 w-25 h-50 rounded-pill",onClick:function(){return console.log("pallet-3")}})]})]})};function oe(e){var t=Object(a.useState)(!1),n=Object(l.a)(t,2),c=n[0],r=n[1],o=Object(a.useState)(""),i=Object(l.a)(o,2),u=(i[0],i[1]),d=Object(a.useState)(0),j=Object(l.a)(d,2),b=(j[0],j[1]),h=Object(a.useState)(""),f=Object(l.a)(h,2),O=(f[0],f[1]),p=Object(a.useState)(""),x=Object(l.a)(p,2),v=(x[0],x[1]),y=Object(a.useState)(""),w=Object(l.a)(y,2),C=(w[0],w[1]),S=Object(a.useState)(!1),k=Object(l.a)(S,2),A=(k[0],k[1]),E=Object(a.useState)(!1),T=Object(l.a)(E,2),I=(T[0],T[1]),F=Object(a.useState)(""),D=Object(l.a)(F,2),G=D[0],B=D[1],L=Object(a.useState)(""),P=Object(l.a)(L,2),z=P[0],H=P[1],J=Object(a.useState)(""),_=Object(l.a)(J,2),V=(_[0],_[1]),q=Object(a.useState)(""),W=Object(l.a)(q,2),K=(W[0],W[1]),M=Object(a.useState)(""),Y=Object(l.a)(M,2),X=Y[0],ee=(Y[1],Object(a.useState)({value:"",label:""})),te=Object(l.a)(ee,2),oe=(te[0],te[1]),se=Object(a.useState)(Array()),ie=Object(l.a)(se,2),le=(ie[0],ie[1]),ue=Object(a.useState)(""),de=Object(l.a)(ue,2),je=de[0],be=de[1],me=Object(a.useState)(""),he=Object(l.a)(me,2),fe=he[0],Oe=he[1],pe=function(){var e=Object(N.a)(g.a.mark((function e(t,n){var a,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(R+"node/"+t,{method:"GET",headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}});case 2:return a=e.sent,e.next=5,a.json();case 5:c=e.sent,1===n?be(c.gameNode.name):2===n&&Oe(c.gameNode.name);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){""!==je&&console.log(je),""!==fe&&console.log(fe)}),[je,fe]),Object(a.useEffect)((function(){return r(!0)}),[]),Object(a.useEffect)((function(){if(null!==e.currentNodeInfo){var t={value:e.currentNodeInfo.gameNode.theme,label:e.currentNodeInfo.gameNode.theme};r(!0),u(e.currentNodeInfo.gameNode.name),oe(t),b(e.currentNodeInfo.gameNode.duration),O(e.currentNodeInfo.gameNode.nodeColor),v(e.currentNodeInfo.gameNode.textColor),C(e.currentNodeInfo.gameNode.backgroundColor),A(e.currentNodeInfo.gameNode.startNode),I(e.currentNodeInfo.gameNode.endNode),le(e.currentNodeInfo.gameNode.labels),0!==e.currentNodeInfo.gameNode.nextNodes.length?(pe(e.currentNodeInfo.gameNode.nextNodes[0].id,1),B(e.currentNodeInfo.gameNode.nextNodes[0].choice),V(e.currentNodeInfo.gameNode.nextNodes[0].id),2===e.currentNodeInfo.gameNode.nextNodes.length?(pe(e.currentNodeInfo.gameNode.nextNodes[1].id,2),H(e.currentNodeInfo.gameNode.nextNodes[1].choice),K(e.currentNodeInfo.gameNode.nextNodes[1].id)):(H(""),Oe(""))):(B(""),be(""),H(""),Oe(""))}}),[e.currentNodeInfo]);Object(a.useEffect)((function(){if(""!==X)switch(X){case"Chocolate":O("#a1e346"),C("#689b22"),v("#73766e");break;case"Vanilla":O("#257488"),C("#9bc7d3"),v("#1c1c1c")}}),[X]);var xe=Object(a.useState)(!1),ve=Object(l.a)(xe,2),ge=ve[0],Ne=ve[1],ye=Object(a.useState)(!1),we=Object(l.a)(ye,2);we[0],we[1];return Object(m.jsxs)(Q.a,Object(U.a)(Object(U.a)({},e),{},{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(m.jsx)(Q.a.Header,{closeButton:!0,children:Object(m.jsx)(Q.a.Title,{id:"contained-modal-title-vcenter",children:"Edi\xe7\xe3o de n\xf3s"})}),Object(m.jsx)(Q.a.Body,{children:c?Object(m.jsxs)("form",{children:[Object(m.jsxs)("div",{className:"mb-3",children:[Object(m.jsx)("label",{htmlFor:"cardField",className:"form-label",children:"Title"}),Object(m.jsx)("input",{type:"text",className:"form-control",placeholder:"Small",id:"cardField",onChange:function(t){return function(t){u(t.target.value),e.onChangeTitle(t)}(t)}})]}),Object(m.jsxs)("div",{className:"mb-3",children:[Object(m.jsx)("label",{htmlFor:"inputEditGameMarkdown",className:"form-label",children:"Markdown field (without preview)"}),Object(m.jsx)(ne,{onChangeDescription:e.onChangeDescription})]}),Object(m.jsx)("div",{className:"mb-3",children:Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)("div",{className:"row",children:Object(m.jsxs)("div",{className:"row",children:[Object(m.jsxs)("div",{className:"col my-form-group",children:[Object(m.jsx)("input",{value:"unsaved"===e.currentNodeInfo?void 0:G,className:"my-input",name:"Option",placeholder:"Alternativa",type:"text",disabled:e.alt1Disabled,onChange:function(e){return B(e.target.value)},onBlur:function(t){return n=t,void e.onChangeOption(n);var n}}),Object(m.jsx)("label",{className:"my-label",children:"Alternativa"}),Object(m.jsxs)("div",{className:"",children:[Object(m.jsx)("input",{value:"unsaved"===e.currentNodeInfo?void 0:je,className:"my-input",name:"Node",placeholder:"N\xf3",type:"text",disabled:e.card1Disabled,onChange:function(e){return be(e.target.value)},onBlur:function(t){return n=t,void e.onChangeNoLigacao(n);var n}}),Object(m.jsx)("label",{className:"my-label",children:"Card"})]})]}),Object(m.jsxs)("div",{className:"col my-form-group",children:[Object(m.jsxs)("div",{className:"",children:[Object(m.jsx)("input",{value:"unsaved"===e.currentNodeInfo?void 0:z,className:"my-input",name:"Option",placeholder:"Alternativa",type:"text",disabled:e.alt2Disabled,onChange:function(e){return H(e.target.value)},onBlur:function(t){return n=t,void e.onChangeOption(n);var n}}),Object(m.jsx)("label",{className:"my-label",children:"Alternativa"})]}),Object(m.jsxs)("div",{className:"",children:[Object(m.jsx)("input",{value:"unsaved"===e.currentNodeInfo?void 0:fe,className:"my-input",name:"Node",placeholder:"N\xf3",type:"text",disabled:e.card2Disabled,onChange:function(e){return Oe(e.target.value)},onBlur:function(t){return n=t,void e.onChangeNoLigacao(n);var n}}),Object(m.jsx)("label",{className:"my-label",children:"Card"})]})]})]})}),Object(m.jsx)("div",{className:"col",children:Object(m.jsxs)("div",{className:"form-check form-switch",children:[Object(m.jsx)("input",{className:"form-check-input",type:"checkbox",role:"switch",id:"switchStartNode",onClick:function(){return Ne(!ge)},checked:ge}),Object(m.jsx)("label",{className:"form-check-label",htmlFor:"switchStartNode",children:"Start Node"})]})}),Object(m.jsx)("div",{className:"col",children:Object(m.jsxs)("div",{className:"form-check form-switch",children:[Object(m.jsx)("input",{className:"form-check-input",type:"checkbox",role:"switch",id:"switchEndNode",onClick:function(){return Ne(!ge)},checked:!ge}),Object(m.jsx)("label",{className:"form-check-label",htmlFor:"switchEndNode",children:"End Node"})]})})]})}),Object(m.jsxs)("div",{className:"mb-3",children:[Object(m.jsxs)("ul",{className:"nav nav-tabs",children:[Object(m.jsx)("li",{className:"nav-item",children:Object(m.jsx)(s.b,{className:"nav-link active",id:"path-tab","data-bs-toggle":"tab","data-bs-target":"#path",to:"#",children:"Path"})}),Object(m.jsx)("li",{className:"nav-item",children:Object(m.jsx)(s.b,{className:"nav-link",id:"tag-tab","data-bs-toggle":"tab","data-bs-target":"#tag",to:"#",children:"Tags"})}),Object(m.jsx)("li",{className:"nav-item",children:Object(m.jsx)(s.b,{className:"nav-link",id:"color-tab","data-bs-toggle":"tab","data-bs-target":"#color",to:"#",children:"Colors"})})]}),Object(m.jsxs)("div",{className:"tab-content bg-white",id:"editGameModalTabContent",children:[Object(m.jsx)("div",{className:"tab-pane fade",id:"path","aria-labelledby":"path-tab",children:Object(m.jsx)(ae,{})}),Object(m.jsx)("div",{className:"tab-pane fade",id:"tag","aria-labelledby":"tag-tab",children:Object(m.jsx)(ce,{})}),Object(m.jsx)("div",{className:"tab-pane fade",id:"color","aria-labelledby":"color-tab",children:Object(m.jsx)(re,{})})]})]}),Object(m.jsxs)("div",{className:"mb-3",children:[Object(m.jsx)("label",{htmlFor:"bgcDefaultField",className:"form-label",children:"Default Background"}),Object(m.jsx)("input",{type:"text",className:"form-control",placeholder:"Small",id:"bgcDefaultField"})]})]}):Object(m.jsx)($.a,{animation:"border",role:"status",children:Object(m.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}),Object(m.jsxs)(Q.a.Footer,{children:[Object(m.jsx)(Z.a,{onClick:e.onSaveChanges,children:"Salvar"}),Object(m.jsx)(Z.a,{onClick:e.onHide,children:"Close"})]})]}))}var se=n(202),ie=n.n(se),le=(n(387),function(){return Object(m.jsx)("div",{className:"dnd-wrapper",children:Object(m.jsx)("div",{className:"dnd-node",onDragStart:function(e){return function(e,t){e.dataTransfer.setData("application/reactflow",t),e.dataTransfer.effectAllowed="move"}(e,"special")},draggable:!0,children:"Common Node"})})}),ue=n(405),de=n(404),je=n(409),be=n(410),me=n(407),he=(n(388),function(e){var t=Object(a.useState)(!1),n=Object(l.a)(t,2),r=n[0],o=n[1],s=Object(a.useState)(!1),i=Object(l.a)(s,2),u=i[0],d=i[1],b=function(){d(!1),o(!0)},h=Object(a.useState)(!1),f=Object(l.a)(h,2),O=f[0],p=f[1],x=function(){p(!1),o(!0)},v=Object(a.useState)("atributos"),w=Object(l.a)(v,2),S=w[0],k=w[1],A=Object(a.useState)(""),E=Object(l.a)(A,2),T=E[0],I=E[1],F=Object(a.useState)(""),D=Object(l.a)(F,2),R=D[0],G=D[1],B=Object(a.useState)(0),L=Object(l.a)(B,2),U=L[0],P=L[1],z=Object(a.useState)(0),H=Object(l.a)(z,2),J=H[0],_=H[1],V=Object(a.useState)(!1),q=Object(l.a)(V,2),W=q[0],K=(q[1],Object(a.useState)([])),M=Object(l.a)(K,2),Y=M[0],X=M[1],$=Object(a.useState)([]),ee=Object(l.a)($,2),te=ee[0],ne=ee[1],ae=Object(a.useState)([]),ce=Object(l.a)(ae,2),re=ce[0],oe=ce[1],se=Object(a.useState)(""),ie=Object(l.a)(se,2),le=ie[0],he=ie[1],Oe=Object(a.useState)(""),pe=Object(l.a)(Oe,2),xe=pe[0],ve=pe[1],ge=Object(a.useState)(""),Ne=Object(l.a)(ge,2),ye=Ne[0],we=Ne[1],Ce=Object(a.useState)(""),Se=Object(l.a)(Ce,2),ke=Se[0],Ae=Se[1],Ee=Object(a.useState)(0),Te=Object(l.a)(Ee,2),Ie=Te[0],Fe=Te[1],De=Object(a.useState)(""),Re=Object(l.a)(De,2),Ge=Re[0],Be=Re[1],Le=Object(a.useState)(""),Ue=Object(l.a)(Le,2),Pe=Ue[0],ze=Ue[1],He=Object(a.useState)(""),Je=Object(l.a)(He,2),_e=Je[0],Ve=Je[1],qe=Object(a.useState)([]),We=Object(l.a)(qe,2),Ke=(We[0],We[1]);Object(a.useEffect)((function(){var e=function(){var e=Object(N.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.get("attributes").then((function(e){return ne(e.data.attributes)})).catch((function(e){return console.error(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(a.useEffect)((function(){var e=[],t=function(){var t=Object(N.a)(g.a.mark((function t(){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.get("events").then((function(t){oe(t.data.events);var n=t.data.events.map((function(e){return e.source_id})),a=t.data.events.map((function(e){return e.target_id}));n.concat(a).map(function(){var t=Object(N.a)(g.a.mark((function t(n){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.get("node/".concat(n)).then((function(t){return null===t.data.gameNode?e.push(n):""})).catch((function(e){return console.error(e)}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),Ke(e)})).catch((function(e){return console.error(e)}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t(),Ke(e)}),[]);var Me=function(){var e=Object(N.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),(n=new FormData).set("name",T),n.set("type",R),n.set("max_value",String(U)),n.set("default_value",String(J)),n.set("player_attr",String(W)),Y.map((function(e){return n.append("icon",e.slice(),"".concat(Date.now()).concat(Object(y.extname)(e.name)))})),e.next=10,j.post("attributes/create",n,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return 2===Math.trunc(e.status/100)?Xe("Uhuuu!!","Atributo cadastrado com sucesso!"):Ye("Eita!","Falha ao cadastrar atributo.")})).catch((function(e){return console.error(e)}));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ye=function(e,t){return C.a.fire({icon:"error",title:e,text:t,confirmButtonText:"OK",confirmButtonColor:"#F8BA63"}).then((function(e){return e.isConfirmed?o(!1):""}))},Xe=function(e,t){return C.a.fire({icon:"success",title:e,text:t,confirmButtonText:"OK",confirmButtonColor:"#F8BA63"}).then((function(e){return e.isConfirmed?o(!1):""}))},Qe=function(){var e=Object(N.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={name:le,source_type:xe,source_id:ye,operator:ke,value:String(Ie),target_type:Ge,target_id:Pe,modifier:String(_e)},e.next=4,j.post("events/create",n).then((function(e){console.log(e.data,e.status),Xe("Evento cadastrado com sucesso!","O novo evento foi cadastrado com sucesso!!!")})).catch((function(e){console.log(e),Ye("Falha ao cadastrar evento!","Ocorreu um erro ao cadastrar o evento, por favor tente mais tarde :(")}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsxs)(c.a.Fragment,{children:[Object(m.jsxs)(Z.a,{onClick:function(){return o(!0)},className:"btn btn-primary position-absolute bottom-0 end-0 m-2",style:{zIndex:999,display:e.elements.length>=1?"block":"none"},children:["Atributos ",e.elements.length>=2?"/ Eventos":""]}),Object(m.jsxs)(Q.a,{size:"xl",show:r,onHide:function(){return o(!1)},"aria-labelledby":"modal-atributos-eventos",centered:!0,children:[Object(m.jsxs)(Q.a.Header,{closeButton:!0,children:[Object(m.jsx)(Q.a.Title,{id:"modal-atributos-eventos",children:"Atributos & Eventos"}),Object(m.jsxs)(ue.a,{as:de.a,children:[Object(m.jsx)(Z.a,{children:"Mais"}),Object(m.jsx)(ue.a.Toggle,{split:!0,id:"dropdown-split-basic"}),Object(m.jsxs)(ue.a.Menu,{children:[Object(m.jsx)(ue.a.Item,{onClick:function(){d(!0),o(!1)},children:"Atributos cadastrados"}),Object(m.jsx)(ue.a.Item,{onClick:function(){p(!0),o(!1)},children:"Eventos cadastrados"})]})]})]}),Object(m.jsx)(Q.a.Body,{children:Object(m.jsxs)(je.a,{id:"controlled-tab-example",activeKey:S,onSelect:function(e){return k(e)},className:"mb-3",children:[Object(m.jsx)(be.a,{eventKey:"atributos",title:"Atributos",children:Object(m.jsxs)(me.a,{onSubmit:Me,children:[Object(m.jsxs)(me.a.Group,{className:"mb-3",children:[Object(m.jsx)(me.a.Label,{children:"Nome do atributo"}),Object(m.jsx)(me.a.Control,{type:"text",onChange:function(e){return I(e.target.value)}})]}),Object(m.jsxs)(me.a.Group,{className:"mb-3",children:[Object(m.jsx)(me.a.Label,{children:"Tipo do atributo"}),Object(m.jsx)(me.a.Control,{type:"text",onChange:function(e){return G(e.target.value)}})]}),Object(m.jsxs)(me.a.Group,{className:"mb-3",children:[Object(m.jsx)(me.a.Label,{children:"Valor M\xe1ximo do atributo"}),Object(m.jsx)(me.a.Control,{type:"text",onChange:function(e){return P(Number(e.target.value))}})]}),Object(m.jsxs)(me.a.Group,{className:"mb-3",children:[Object(m.jsx)(me.a.Label,{children:"Valor padr\xe3o do atributo"}),Object(m.jsx)(me.a.Control,{type:"text",onChange:function(e){return _(Number(e.target.value))}})]}),Object(m.jsxs)(me.a.Group,{className:"mb-3",children:[Object(m.jsx)(me.a.Label,{children:"Selecione um \xedcone para este atributo"}),Object(m.jsx)(me.a.Control,{type:"file",onChange:function(e){var t=e.target.files,n=[];Object.values(t).map((function(e){return n.push(e)})),X(Y.concat(n))}})]}),Object(m.jsx)(Z.a,{variant:"primary",type:"submit",children:"Cadastrar Atributo"})]})}),Object(m.jsx)(be.a,{eventKey:"eventos",title:"Eventos",children:e.elements.length>=2?Object(m.jsxs)(me.a,{onSubmit:Qe,children:[Object(m.jsxs)(me.a.Group,{className:"mb-3",children:[Object(m.jsx)(me.a.Label,{children:"Nome do Evento"}),Object(m.jsx)(me.a.Control,{type:"text",onChange:function(e){return he(e.target.value)}})]}),Object(m.jsxs)(me.a.Group,{className:"mb-3",children:[Object(m.jsx)(me.a.Label,{children:"Source Type"}),Object(m.jsxs)(me.a.Select,{"aria-label":"Selecione o source type do evento",onChange:function(e){ve(e.target.value),we(e.target.value)},children:[Object(m.jsx)("option",{value:"",children:"Selecione o n\xf3 de origem"}),e.elements.map((function(e){return e.data?Object(m.jsx)("option",{value:e.id,children:e.data.title},e.id):null}))]})]}),Object(m.jsxs)(me.a.Group,{className:"mb-3",children:[Object(m.jsx)(me.a.Label,{children:"Operador do evento"}),Object(m.jsx)(me.a.Control,{type:"text",onChange:function(e){return Ae(e.target.value)}})]}),Object(m.jsxs)(me.a.Group,{className:"mb-3",children:[Object(m.jsx)(me.a.Label,{children:"Valor do evento"}),Object(m.jsx)(me.a.Control,{type:"text",onChange:function(e){return Fe(Number(e.target.value))}})]}),Object(m.jsxs)(me.a.Group,{className:"mb-3",children:[Object(m.jsx)(me.a.Label,{children:"Target Type"}),Object(m.jsxs)(me.a.Select,{"aria-label":"Selecione o target type do evento",onChange:function(e){Be(e.target.value),ze(e.target.value)},children:[Object(m.jsx)("option",{value:"",children:"Selecione o n\xf3 de disparo"}),e.elements.map((function(e){return e.data?Object(m.jsx)("option",{value:e.id,children:e.data.title},e.id):null}))]})]}),Object(m.jsxs)(me.a.Group,{className:"mb-3",children:[Object(m.jsx)(me.a.Label,{children:"Modificador do evento (Atributo a ser afetado)"}),Object(m.jsxs)(me.a.Select,{"aria-label":"Selecione o atributo a ser alterado",onChange:function(e){return Ve(e.target.value)},children:[Object(m.jsx)("option",{value:"",children:"Selecione o atributo a ser alterado"}),te.map((function(e){return Object(m.jsx)("option",{value:e._id,children:e.name},e._id)}))]})]}),Object(m.jsx)(Z.a,{variant:"primary",type:"submit",children:"Cadastrar Evento"})]}):Object(m.jsx)("h3",{children:"\xc9 necess\xe1rio no m\xednimo 2 n\xf3s criados para configura\xe7\xe3o de um novo Evento"})})]})})]}),Object(m.jsxs)(Q.a,{show:u,onHide:b,size:"xl",centered:!0,children:[Object(m.jsx)(Q.a.Header,{closeButton:!0,children:Object(m.jsx)(Q.a.Title,{children:"Atributos cadastrados"})}),Object(m.jsx)(Q.a.Body,{className:"d-flex justify-content-between flex-row",children:te.length>0?te.map((function(t){return Object(m.jsx)(fe,{attribute:t,elements:e.elements,attributes:te},t._id)})):Object(m.jsx)("h3",{children:"Nenhum atributo cadastrado."})}),Object(m.jsx)(Q.a.Footer,{children:Object(m.jsx)(Z.a,{onClick:b,children:"Close"})})]}),Object(m.jsxs)(Q.a,{show:O,onHide:x,size:"xl",centered:!0,children:[Object(m.jsx)(Q.a.Header,{closeButton:!0,children:Object(m.jsx)(Q.a.Title,{children:"Eventos cadastrados"})}),Object(m.jsx)(Q.a.Body,{className:"d-flex justify-content-between flex-row",children:re.length>0?re.map((function(t){return Object(m.jsx)(fe,{event:t,elements:e.elements,attributes:te},t._id)})):Object(m.jsx)("h3",{children:"Nenhum evento cadastrado no momento."})}),Object(m.jsx)(Q.a.Footer,{children:Object(m.jsx)(Z.a,{onClick:x,children:"Close"})})]})]})}),fe=function(e){var t,n,c,r,o,s,i=Object(a.useState)({visible:!1,id:""}),u=Object(l.a)(i,2),d=u[0],h=u[1],f=Object(a.useState)({visible:!1,id:""}),O=Object(l.a)(f,2),p=O[0],x=O[1],v=Object(a.useState)(""),w=Object(l.a)(v,2),S=w[0],k=w[1],A=Object(a.useState)(""),E=Object(l.a)(A,2),T=E[0],I=E[1],F=Object(a.useState)(0),D=Object(l.a)(F,2),R=D[0],G=D[1],B=Object(a.useState)(0),L=Object(l.a)(B,2),U=L[0],P=L[1],z=Object(a.useState)([]),H=Object(l.a)(z,2),J=H[0],_=H[1],V=Object(a.useState)(""),q=Object(l.a)(V,2),W=q[0],K=q[1],M=Object(a.useState)(""),Y=Object(l.a)(M,2),X=Y[0],$=Y[1],ee=Object(a.useState)(""),te=Object(l.a)(ee,2),ne=te[0],ae=te[1],ce=Object(a.useState)(""),re=Object(l.a)(ce,2),oe=re[0],se=re[1],ie=Object(a.useState)(0),le=Object(l.a)(ie,2),ue=le[0],de=le[1],je=Object(a.useState)(""),be=Object(l.a)(je,2),he=be[0],fe=be[1],Oe=Object(a.useState)(""),pe=Object(l.a)(Oe,2),xe=pe[0],ve=pe[1],ge=Object(a.useState)(""),Ne=Object(l.a)(ge,2),ye=Ne[0],we=Ne[1],Ce=function(){var e=Object(N.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={name:W,source_type:X,source_id:ne,operator:oe,value:String(ue),target_type:he,target_id:xe,modifier:String(ye)},e.next=4,j.put("events/".concat(p.id),n).then((function(e){De("Evento cadastrado com sucesso!","Novo evento foi cadastrado com sucesso!!!")})).catch((function(e){console.error(e),Fe("Falha ao cadastrar o evento!","Ocorreu um erro durante o cadastro do evento, favor tente mais tarde :(")}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Se=function(e){h({visible:!1,id:e})},ke=function(e){x({visible:!1,id:e})},Ae=function(e,t){C.a.fire({title:"Certeza que voc\xea deseja remover esse ".concat("attribute"===t?"atributo":"evento"," ?"),text:"Essa a\xe7\xe3o \xe9 irrevers\xedvel!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Sim"}).then(function(){var n=Object(N.a)(g.a.mark((function n(a){return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!a.isConfirmed){n.next=3;break}return n.next=3,j.delete("".concat("attribute"===t?"attributes":"events","/").concat(e)).then((function(e){return C.a.fire({title:"".concat("attribute"===t?"Atributo":"Evento"," removido com sucesso!"),text:"Atributo foi removido com sucesso!",icon:"success"}).then((function(){return window.location.reload()}))})).catch((function(e){return C.a.fire({title:"Falha ao remover ".concat("attribute"===t?"atributo":"evento"),text:"Falha durante remo\xe7\xe3o, favor tente mais tarde.",icon:"error"})}));case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())},Ee=function(){var e=Object(N.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.get("attributes/".concat(t)).then((function(e){k(e.data.name),I(e.data.type),G(e.data.max_value),P(e.data.default_value)})).catch((function(e){return console.error(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Te=function(){var e=Object(N.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.get("events/".concat(t)).then((function(e){K(e.data.name),$(e.data.source_type),ae(e.data.source_id),fe(e.data.target_type),ve(e.data.target_id),se(e.data.operator),de(e.data.value),we(e.data.modifier)})).catch((function(e){return console.error(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ie=function(t){e.attribute?(h({visible:!0,id:t}),Ee(t)):(x({visible:!0,id:t}),Te(t))},Fe=function(e,t){return C.a.fire({icon:"error",title:e,text:t,confirmButtonText:"OK",confirmButtonColor:"#F8BA63"}).then((function(){return window.location.reload()}))},De=function(e,t){return C.a.fire({icon:"success",title:e,text:t,confirmButtonText:"OK",confirmButtonColor:"#F8BA63"}).then((function(){return window.location.reload()}))},Re=function(){var e=Object(N.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),(n=new FormData).set("name",S),n.set("type",T),n.set("max_value",String(R)),n.set("default_value",String(U)),J.map((function(e){return n.append("icon",e.slice(),"".concat(Date.now()).concat(Object(y.extname)(e.name)))})),console.log(n.get("name"),T,R,U,d.id),e.next=10,j.put("attributes/".concat(d.id),n,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return 2===Math.trunc(e.status/100)?De("Uhuuu!!","Atributo atualizado com sucesso!"):Fe("Eita!","Falha ao atualizar atributo.")})).catch((function(e){return console.error(e)}));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsxs)(a.Fragment,{children:[e.attribute?Object(m.jsxs)("div",{className:"card-wrapper",children:[Object(m.jsxs)("div",{className:"card-body",children:[Object(m.jsx)("p",{className:"card-body-title",children:null===(t=e.attribute)||void 0===t?void 0:t.name}),Object(m.jsx)("div",{className:"card-body-img",children:Object(m.jsx)("img",{src:(null===(n=e.attribute)||void 0===n?void 0:n.icon)?"".concat("https://papiro-backend-design-module.herokuapp.com/","home/card/img/attributes/").concat(null===(c=e.attribute)||void 0===c?void 0:c.icon):"".concat("https://papiro-backend-design-module.herokuapp.com/","home/card/img/attributes/default.png"),alt:""})})]}),Object(m.jsxs)("div",{className:"card-footer",children:[Object(m.jsx)("button",{className:"btn-trash",onClick:function(){var t;return Ae(null===(t=e.attribute)||void 0===t?void 0:t._id,"attribute")},children:Object(m.jsx)(b.e,{})}),Object(m.jsx)("button",{className:"btn-edit",onClick:function(){var t;return Ie(null===(t=e.attribute)||void 0===t?void 0:t._id)},children:Object(m.jsx)(b.j,{})})]})]}):Object(m.jsxs)("div",{className:"card-wrapper",children:[Object(m.jsxs)("div",{className:"card-body",children:[Object(m.jsx)("p",{children:null===(r=e.event)||void 0===r?void 0:r.name}),Object(m.jsxs)("p",{children:["N\xf3 de origem: ",null===(o=e.event)||void 0===o?void 0:o.source_id," "]}),Object(m.jsxs)("p",{children:["N\xf3 de destino: ",null===(s=e.event)||void 0===s?void 0:s.target_id," "]})]}),Object(m.jsxs)("div",{className:"card-footer",children:[Object(m.jsx)("button",{className:"btn-trash",onClick:function(){var t;return Ae(null===(t=e.event)||void 0===t?void 0:t._id,"event")},children:Object(m.jsx)(b.e,{})}),Object(m.jsx)("button",{className:"btn-edit",onClick:function(){var t;return Ie(null===(t=e.event)||void 0===t?void 0:t._id)},children:Object(m.jsx)(b.j,{})})]})]}),Object(m.jsxs)(Q.a,{show:d.visible,onHide:Se,size:"sm",centered:!0,children:[Object(m.jsx)(Q.a.Header,{closeButton:!0,children:Object(m.jsx)(Q.a.Title,{children:"Edi\xe7\xe3o de atributo"})}),Object(m.jsx)(Q.a.Body,{className:"d-flex justify-content-between flex-row",children:Object(m.jsxs)(me.a,{onSubmit:Re,children:[Object(m.jsxs)(me.a.Group,{className:"mb-3",children:[Object(m.jsx)(me.a.Label,{children:"Nome"}),Object(m.jsx)(me.a.Control,{type:"text",onChange:function(e){return k(e.target.value)},placeholder:S})]}),Object(m.jsxs)(me.a.Group,{className:"mb-3",children:[Object(m.jsx)(me.a.Label,{children:"Tipo do atributo"}),Object(m.jsx)(me.a.Control,{type:"text",onChange:function(e){return I(e.target.value)},placeholder:T})]}),Object(m.jsxs)(me.a.Group,{className:"mb-3",children:[Object(m.jsx)(me.a.Label,{children:"Valor M\xe1ximo do atributo"}),Object(m.jsx)(me.a.Control,{type:"text",onChange:function(e){return G(Number(e.target.value))},placeholder:"".concat(R)})]}),Object(m.jsxs)(me.a.Group,{className:"mb-3",children:[Object(m.jsx)(me.a.Label,{children:"Valor padr\xe3o do atributo"}),Object(m.jsx)(me.a.Control,{type:"text",onChange:function(e){return P(Number(e.target.value))},placeholder:"".concat(U)})]}),Object(m.jsxs)(me.a.Group,{className:"mb-3",children:[Object(m.jsx)(me.a.Label,{children:"Selecione um \xedcone para este atributo"}),Object(m.jsx)(me.a.Control,{type:"file",onChange:function(e){var t=e.target.files,n=[];Object.values(t).map((function(e){return n.push(e)})),_(J.concat(n))}})]}),Object(m.jsx)(Z.a,{variant:"primary",type:"submit",children:"Atualizar Atributo"})]})}),Object(m.jsx)(Q.a.Footer,{children:Object(m.jsx)(Z.a,{onClick:function(){var t;return Se(null===(t=e.attribute)||void 0===t?void 0:t._id)},children:"Close"})})]}),Object(m.jsxs)(Q.a,{show:p.visible,onHide:ke,size:"sm",centered:!0,children:[Object(m.jsx)(Q.a.Header,{closeButton:!0,children:Object(m.jsx)(Q.a.Title,{children:"Edi\xe7\xe3o de evento"})}),Object(m.jsx)(Q.a.Body,{className:"d-flex justify-content-between flex-row",children:Object(m.jsxs)(me.a,{onSubmit:Ce,children:[Object(m.jsxs)(me.a.Group,{className:"mb-3",children:[Object(m.jsx)(me.a.Label,{children:"Nome do Evento"}),Object(m.jsx)(me.a.Control,{type:"text",onChange:function(e){return K(e.target.value)},placeholder:W})]}),Object(m.jsxs)(me.a.Group,{className:"mb-3",children:[Object(m.jsx)(me.a.Label,{children:"Source Type"}),Object(m.jsxs)(me.a.Select,{"aria-label":"Selecione o source type do evento",onChange:function(e){$(e.target.value),ae(e.target.value)},children:[Object(m.jsx)("option",{value:"",children:"Selecione o n\xf3 de origem"}),e.elements.map((function(e){return e.data?Object(m.jsx)("option",{value:e.id,children:e.data.title},e.id):null}))]})]}),Object(m.jsxs)(me.a.Group,{className:"mb-3",children:[Object(m.jsx)(me.a.Label,{children:"Operador do evento"}),Object(m.jsx)(me.a.Control,{type:"text",onChange:function(e){return se(e.target.value)},placeholder:oe})]}),Object(m.jsxs)(me.a.Group,{className:"mb-3",children:[Object(m.jsx)(me.a.Label,{children:"Valor do evento"}),Object(m.jsx)(me.a.Control,{type:"text",onChange:function(e){return de(Number(e.target.value))},placeholder:"".concat(ue)})]}),Object(m.jsxs)(me.a.Group,{className:"mb-3",children:[Object(m.jsx)(me.a.Label,{children:"Target Type"}),Object(m.jsxs)(me.a.Select,{"aria-label":"Selecione o target type do evento",onChange:function(e){fe(e.target.value),ve(e.target.value)},children:[Object(m.jsx)("option",{value:"",children:"Selecione o n\xf3 de disparo"}),e.elements.map((function(e){return e.data?Object(m.jsx)("option",{value:e.id,children:e.data.title},e.id):null}))]})]}),Object(m.jsxs)(me.a.Group,{className:"mb-3",children:[Object(m.jsx)(me.a.Label,{children:"Modificador do evento (Atributo a ser afetado)"}),Object(m.jsxs)(me.a.Select,{"aria-label":"Selecione o atributo a ser alterado",onChange:function(e){return we(e.target.value)},children:[Object(m.jsx)("option",{value:"",children:"Selecione o atributo a ser alterado"}),e.attributes.map((function(e){return Object(m.jsx)("option",{value:e._id,children:e.name},e._id)}))]})]}),Object(m.jsx)(Z.a,{variant:"primary",type:"submit",children:"Atualizar Evento"})]})}),Object(m.jsx)(Q.a.Footer,{children:Object(m.jsx)(Z.a,{onClick:function(){var t;return ke(null===(t=e.event)||void 0===t?void 0:t._id)},children:"Close"})})]})]})},Oe=(n(391),{special:function(e){var t=e.data;return Object(m.jsxs)(a.Fragment,{children:[Object(m.jsx)(q.c,{type:"target",id:"a",position:q.e.Left,style:{border:0,background:"rgba(0,0,0,0.0)",width:10,height:10,borderRadius:"50%"}}),Object(m.jsx)(q.c,{type:"source",id:"b",position:q.e.Right,style:{border:0,background:"rgba(0,0,0,0.0)",width:10,height:10,top:"40%",borderRadius:"50%"}}),Object(m.jsx)(q.c,{type:"source",id:"c",position:q.e.Right,style:{border:0,background:"rgba(0,0,0,0.0)",width:10,height:10,top:"60%",borderRadius:"50%"}}),Object(m.jsxs)("div",{className:"my-card",children:[Object(m.jsx)("div",{className:"my-card-header",children:Object(m.jsx)(b.d,{onClick:t.onEditClick})}),Object(m.jsxs)("div",{className:"my-card-body",children:[Object(m.jsx)("p",{className:"my-card-title",children:Object(m.jsx)("label",{className:"title",children:t.title?t.title:"Cart\xe3o sem nome"})}),Object(m.jsx)("div",{className:"tags-wrapper",children:Object(m.jsx)("div",{className:"tags_container",children:t.tagsArray.map((function(e,t){return Object(m.jsx)("span",{style:{backgroundColor:e.color},className:"tag",children:e.name},t)}))})})]}),Object(m.jsxs)("div",{className:"my-card-footer",children:[Object(m.jsx)("div",{className:"my-card-footer-item pallet-1"}),Object(m.jsx)("div",{className:"my-card-footer-item pallet-2"}),Object(m.jsx)("div",{className:"my-card-footer-item pallet-3"})]})]})]})},formType:X});function pe(e){var t=Object(i.g)(),n=[],c=[],r=500,o=0,s=(new ie.a.Converter,Object(a.useState)(800)),u=Object(l.a)(s,2),d=u[0],j=u[1],h=Object(a.useRef)(null),f=Object(a.useState)({title:!1,desc:!1,duration:!1,option:!1,noLigacao:!1,nodeColor:!1,textColor:!1,bgColor:!1}),O=Object(l.a)(f,2),p=O[0],v=O[1],y=Object(a.useState)([{id:"1000",type:"input",data:{label:"Node 1"},position:{x:1e4,y:1e5}}]),w=Object(l.a)(y,2),C=w[0],S=w[1],k=Object(a.useState)("0"),A=Object(l.a)(k,2),E=A[0],T=A[1],I=Object(a.useState)(null),F=Object(l.a)(I,2),D=F[0],G=F[1],B=Object(a.useState)(""),L=Object(l.a)(B,2),P=L[0],z=L[1],H=Object(a.useState)(""),J=Object(l.a)(H,2),_=J[0],W=J[1],K=Object(a.useState)(""),M=Object(l.a)(K,2),Y=M[0],X=M[1],Q=Object(a.useState)(""),Z=Object(l.a)(Q,2),$=Z[0],ee=Z[1],te=Object(a.useState)(""),ne=Object(l.a)(te,2),ae=(ne[0],ne[1]),ce=Object(a.useState)(""),re=Object(l.a)(ce,2),se=re[0],ue=(re[1],Object(a.useState)("")),de=Object(l.a)(ue,2),je=de[0],be=de[1],me=Object(a.useState)(""),fe=Object(l.a)(me,2),pe=fe[0],xe=(fe[1],Object(a.useState)("")),ve=Object(l.a)(xe,2),ge=ve[0],Ne=ve[1],ye=Object(a.useState)(""),we=Object(l.a)(ye,2),Ce=we[0],Se=(we[1],Object(a.useState)("")),ke=Object(l.a)(Se,2),Ae=ke[0],Ee=ke[1],Te=Object(a.useState)(""),Ie=Object(l.a)(Te,2),Fe=(Ie[0],Ie[1]),De=Object(a.useState)(0),Re=Object(l.a)(De,2),Ge=Re[0],Be=Re[1],Le=Object(a.useState)(!1),Ue=Object(l.a)(Le,2),Pe=Ue[0],ze=Ue[1],He=Object(a.useState)(!1),Je=Object(l.a)(He,2),_e=Je[0],Ve=Je[1],qe=Object(a.useState)(!1),We=Object(l.a)(qe,2),Ke=We[0],Me=We[1],Ye=Object(a.useState)("0"),Xe=Object(l.a)(Ye,2),Qe=Xe[0],Ze=Xe[1],$e=Object(a.useState)("0"),et=Object(l.a)($e,2),tt=et[0],nt=et[1],at=Object(a.useState)(!1),ct=Object(l.a)(at,2),rt=ct[0],ot=ct[1],st=Object(a.useState)(Array()),it=Object(l.a)(st,2),lt=it[0],ut=(it[1],Object(a.useState)(Array())),dt=Object(l.a)(ut,2),jt=dt[0],bt=dt[1],mt=Object(a.useState)(Array()),ht=Object(l.a)(mt,2),ft=ht[0],Ot=ht[1],pt=Object(a.useState)(""),xt=Object(l.a)(pt,2),vt=(xt[0],xt[1],Object(a.useState)("")),gt=Object(l.a)(vt,2),Nt=(gt[0],gt[1],Object(a.useState)(null)),yt=Object(l.a)(Nt,2),wt=yt[0],Ct=yt[1],St=Object(a.useState)(null),kt=Object(l.a)(St,2),At=kt[0],Et=kt[1],Tt=Object(a.useState)(null),It=Object(l.a)(Tt,2),Ft=It[0],Dt=It[1],Rt=Object(a.useState)(!1),Gt=Object(l.a)(Rt,2),Bt=(Gt[0],Gt[1]),Lt=Object(a.useState)(0),Ut=Object(l.a)(Lt,2),Pt=Ut[0],zt=Ut[1],Ht=Object(a.useState)(""),Jt=Object(l.a)(Ht,2),_t=Jt[0],Vt=Jt[1],qt=Object(a.useState)(!1),Wt=Object(l.a)(qt,2),Kt=Wt[0],Mt=Wt[1],Yt=Object(a.useState)(Array()),Xt=Object(l.a)(Yt,2),Qt=Xt[0],Zt=Xt[1],$t=Object(a.useState)(""),en=Object(l.a)($t,2),tn=en[0],nn=en[1],an=Object(a.useState)(!1),cn=Object(l.a)(an,2),rn=(cn[0],cn[1]),on=Object(a.useState)(!1),sn=Object(l.a)(on,2),ln=(sn[0],sn[1]),un=Object(a.useState)(Array()),dn=Object(l.a)(un,2),jn=dn[0],bn=dn[1],mn=Object(a.useState)(Array()),hn=Object(l.a)(mn,2),fn=hn[0],On=hn[1],pn=Object(a.useState)(-1),xn=Object(l.a)(pn,2),vn=xn[0],gn=xn[1],Nn=Object(a.useState)(null),yn=Object(l.a)(Nn,2),wn=yn[0],Cn=yn[1],Sn=Object(a.useState)(!1),kn=Object(l.a)(Sn,2),An=kn[0],En=kn[1],Tn=Object(a.useState)(!1),In=Object(l.a)(Tn,2),Fn=In[0],Dn=In[1],Rn=Object(a.useState)(!1),Gn=Object(l.a)(Rn,2),Bn=Gn[0],Ln=Gn[1],Un=Object(a.useState)(!1),Pn=Object(l.a)(Un,2),zn=Pn[0],Hn=Pn[1],Jn=Object(a.useState)(!0),_n=Object(l.a)(Jn,2),Vn=_n[0],qn=_n[1],Wn=Object(a.useState)(!0),Kn=Object(l.a)(Wn,2),Mn=Kn[0],Yn=Kn[1],Xn=Object(a.useState)(""),Qn=Object(l.a)(Xn,2),Zn=Qn[0],$n=Qn[1],ea=Object(a.useState)(""),ta=Object(l.a)(ea,2),na=ta[0],aa=(ta[1],window.location.search),ca=new URLSearchParams(aa),ra=Object(a.useState)(!1),oa=Object(l.a)(ra,2),sa=oa[0],ia=oa[1],la=function(){var e=Object(N.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(R+"game/"+ca.get("game"),{method:"GET",headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}});case 2:return t=e.sent,console.log("gameResult => ".concat(Object.keys(t))),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ua=function(){var e=Object(N.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(R+"connection/"+ca.get("game"),{method:"GET",headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){function e(){return(e=Object(N.a)(g.a.mark((function e(){var a,r,o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ua();case 2:return a=e.sent,e.next=5,a.json();case 5:return r=e.sent,e.next=8,la();case 8:return o=e.sent,e.next=11,o.json();case 11:e.sent.nodes.map((function(e,a){e.labels.map((function(e){c.push({name:e.label,color:e.color})})),n.push({id:e._id,type:e.nodeType,data:{id:e._id,history:e.markdownContent,compiled_content:e.compiled_content,title:e.name,nodeStart:e.startNode,nodeEnd:e.endNode,duration:e.duration,textColor:e.textColor,bgColor:e.backgroundColor,nodeColor:e.nodeColor,nextNodes:e.nextNodes,image:e.nodeImage,theme:e.theme,onEditClick:function(){return ja(e._id)},onFormSaveClick:function(){return t()},createNodeConnectionForm:function(e){return Oa(e)},show:!1,tagsArray:c},position:e.position}),c=[]})),r.nodeConnection.map((function(e,t){n.push({id:e._id,source:e.source,target:e.target,animated:!0,arrowHeadType:"arrowclosed",style:{color:"white",stroke:"white"},sourceHandle:"b",targetHandle:"a"})})),0!==n.length&&S(n);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function t(){zt((function(e){return e+1}))}!function(){e.apply(this,arguments)}()}),[Pt]);var da=function(){var e=Object(N.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S((function(e){return Object(q.h)(t,e)})),e.next=3,fetch(R+"node/delete/"+t[0].id,{method:"DELETE",headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"},body:JSON.stringify({elements:t,game:ca.get("game")})});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){null!==At&&ze(!0)}),[At]);var ja=function(){var e=Object(N.a)(g.a.mark((function e(t){var n,a,c,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ia(!0),En(!1),Dn(!1),Ln(!1),Hn(!1),qn(!0),Yn(!0),Ot([]),e.next=10,fetch(R+"label",{method:"GET",headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}});case 10:return n=e.sent,Dt(t),Bt(!0),e.next=15,n.json();case 15:if(a=e.sent,bt(a.label),"object"===typeof t){e.next=28;break}return e.next=21,fetch(R+"node/"+t,{method:"GET",headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}});case 21:return c=e.sent,e.next=24,c.json();case 24:r=e.sent,Et(r),e.next=29;break;case 28:Et("unsaved");case 29:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ba=function(e,t,n,a){var c=parseInt(E)+1;T(c.toString());var r={id:E,type:t,position:e,data:{history:"",title:0===n?"":a,nodeStart:!1,nodeEnd:!1,duration:"0",nodeColor:"#000000",textColor:"#000000",backgroundColor:"#000000",onEditClick:ja,onFormSaveClick:function(){return zt((function(e){return e+1}))},createNodeConnection:function(){return pa()},tagsArray:Array()}};S((function(e){return e.concat(r)})),xa(1===n?a:"",!1,!1,"0","",Array(),e,se,pe,Ce,t)};Object(a.useEffect)((function(){Kt&&gn((function(e){return e+1}))}),[_t]),Object(a.useEffect)((function(){var e=function(){var e=Object(N.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("Createconn"),!Kt){e.next=11;break}return console.log("IF createconn"),console.log("COUNT => ".concat(vn)),console.log("TargetID => ".concat(_t,"\nauxCardAlt => ").concat(fn[vn])),console.log("Antes: next nodes => ".concat(Qt)),Zt(Object(V.a)(Array({id:_t,choice:fn[vn]}))),console.log("Depois: next nodes => ".concat(Qt)),e.next=10,fetch(R+"connection/create",{method:"POST",headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"},body:JSON.stringify({_id:"react"+Ge.toString()+"-"+_t,source:Ge.toString(),target:_t,gameId:ca.get("game")})});case 10:ae("");case 11:vn===jn.length-1&&(bn(Array()),On(Array()),Mt(!1));case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e(),zt((function(e){return e+1}))}),[vn]),Object(a.useEffect)((function(){Kt&&"err"!==Qt[0].id&&va(Qt)}),[Qt]),Object(a.useEffect)((function(){0!==ft.length&&ya(ft)}),[ft]);Object(a.useEffect)((function(){-1===Ge.toString().search("react")&&C.forEach((function(e){e.id===Ge&&" "!==P&&(e.data.history=P)})),z(" ")}),[P,Ge]),Object(a.useEffect)((function(){-1===Ge.toString().search("react")&&C.forEach((function(e){e.id===Ge&&" "!==Y&&(e.data.title=Y)})),X(" ")}),[Y,Ge]),Object(a.useEffect)((function(){-1===Ge.toString().search("react")&&C.forEach((function(e){e.id===Ge&&(e.data.theme=Zn)}))}),[Zn,Ge]),Object(a.useEffect)((function(){rt&&(-1===Ge.toString().search("react")&&C.forEach((function(e){e.id===Ge&&(console.log("start: ",_e),e.data.nodeStart=_e,Na(_e))})),ot(!1))}),[_e,Ge]),Object(a.useEffect)((function(){rt&&(-1===Ge.toString().search("react")&&C.forEach((function(e){e.id===Ge&&(console.log(Ke),e.data.nodeEnd=Ke,ga(Ke))})),ot(!1))}),[Ke,Ge]),Object(a.useEffect)((function(){-1===Ge.toString().search("react")&&C.forEach((function(e){e.id===Ge&&(e.data.tagsArray=ft)}))}),[ft]),Object(a.useEffect)((function(){-1===Ge.toString().search("react")&&C.forEach((function(e){e.id===Ge&&" "!==Qe&&(e.data.duration=Qe)})),Ze(" ")}),[Qe,Ge]);var ma=function(){ze(!1)};Object(a.useEffect)((function(){0!==fn.length&&(1===jn.length&&!0===Mn&&(Ln(!0),Yn(!1)),2===jn.length&&(Hn(!0),Ln(!0)))}),[jn]);Object(a.useEffect)((function(){0!==fn.length&&(1===fn.length&&!0===Vn&&(console.log(fn),En(!0),qn(!1)),2===fn.length&&(Dn(!0),En(!0)))}),[fn]);var ha=function(e){switch(v((function(e){return Object(U.a)(Object(U.a)({},e),{},{nodeColor:!0})})),v((function(e){return Object(U.a)(Object(U.a)({},e),{},{bgColor:!0})})),v((function(e){return Object(U.a)(Object(U.a)({},e),{},{textColor:!0})})),e){case"Chocolate":be("#a1e346"),Ee("#689b22"),Ne("#73766e");break;case"Vanilla":be("#257488"),Ee("#9bc7d3"),Ne("#1c1c1c")}},fa=function(){var e=Object(N.a)(g.a.mark((function e(t,n,a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(R,"node/edit/colors/").concat(Ft),{method:"PUT",headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"},body:JSON.stringify({backgroundColor:n,textColor:a,nodeColor:t})});case 2:ln(!1);case 3:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){""!==je&&fa(je,Ae,ge)}),[je]);var Oa=function(e){if(console.log("CreateNodeConnectionForm..."),""!==e){o+=1;var t={x:window.innerWidth-d,y:window.innerHeight-r};ba(t,"special",1,e),r-=150,o%2===0&&j((function(e){return e-250})),Mt(!0),Fe("")}},pa=function(){console.log("CreateConnection... "),jn.forEach((function(e){if(""!==e){var t=!1;if(C.forEach((function(n){-1===n.id.search("react")&&n.data.title===e&&(t=!0,Mt(!0),Vt(n.id))})),!t){o+=1;var n=D.project({x:window.innerWidth-d,y:window.innerHeight-r});ba(n,"special",1,e),r-=150,o%2===0&&j((function(e){return e-250}))}Mt(!0),Fe("")}}))},xa=function(){var e=Object(N.a)(g.a.mark((function e(t,n,a,c,r,o,s,i,l,u,d){var j,b;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(R,"node/create"),{method:"POST",headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"},body:JSON.stringify({name:t,startNode:n,endNode:a,duration:c,markdownContent:r,labels:o,id:ca.get("game"),position:s,nodeColor:i,textColor:l,backgroundColor:u,nodeType:d})});case 3:return j=e.sent,e.next=6,j.json();case 6:b=e.sent,""!==t&&(Vt(b.gameNode._id),Mt(!0)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("erro ao criar tag: "+e.t0);case 13:zt((function(e){return e+1}));case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,a,c,r,o,s,i,l,u,d){return e.apply(this,arguments)}}(),va=function(){var e=Object(N.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("API EDIT NEXT NODES => ".concat(t)),e.next=3,fetch("".concat(R,"node/edit/nextnodes/").concat(Ft),{method:"PUT",headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"},body:JSON.stringify({nextNodes:t})});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ga=function(){var e=Object(N.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(R,"node/edit/end/").concat(Ft),{method:"PUT",headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"},body:JSON.stringify({endNode:t})});case 2:ln(!1);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Na=function(){var e=Object(N.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(R,"node/edit/start/").concat(Ft),{method:"PUT",headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"},body:JSON.stringify({startNode:t})});case 2:rn(!1);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ya=function(){var e=Object(N.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(R,"node/edit/labels/").concat(Ft),{method:"PUT",headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"},body:JSON.stringify({labels:t})});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),wa=function(){var e=Object(N.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("nodeImage",t),e.next=4,fetch("".concat(R,"node/edit/image/").concat(Ft),{method:"PUT",headers:{"Access-Control-Allow-Origin":"*"},body:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){null!==wn&&wa(wn)}),[wn]);var Ca=function(){var e=Object(N.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(R,"node/edit/compiled_content/").concat(Ft),{method:"PUT",headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"},body:JSON.stringify({compiled_content:t})});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){""!==na&&Ca(na)}),[na]);var Sa=function(){var e=Object(N.a)(g.a.mark((function e(t,n,a,c){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(R,"node/edit/").concat(Ft),{method:"PUT",headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"},body:JSON.stringify({name:!1===p.title?At.gameNode.name:t,duration:!1===p.duration?At.gameNode.duration:n,markdownContent:!1===p.desc?At.gameNode.markdownContent:a,id:ca.get("game"),theme:c})});case 3:v({title:!1,desc:!1,duration:!1,option:!1,noLigacao:!1,nodeColor:!1,textColor:!1,bgColor:!1}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log("erro ao criar card: "+e.t0);case 9:zt((function(e){return e+1})),gn(-1);case 11:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n,a,c){return e.apply(this,arguments)}}(),ka=function(){var e=Object(N.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ha(Zn),e.next=3,Sa($,tt,_,Zn);case 3:pa(),ma();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){null!==wt&&""!==tn&&(Aa(wt,tn),nn(""))}),[wt,tn]);var Aa=function(){var e=Object(N.a)(g.a.mark((function e(t,n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(R,"node/edit/position/").concat(n),{method:"PUT",headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"},body:JSON.stringify({position:t})});case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(m.jsx)("div",{className:"container-fluid min-vh-100",children:Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)("div",{className:"col bg-surface min-vh-100",children:Object(m.jsx)(x,{})}),Object(m.jsxs)("div",{className:"col-10 d-flex bg-surface flex-column m-0 p-0",children:[Object(m.jsx)("div",{className:"btn-play-wrapper",children:Object(m.jsxs)("button",{className:"my-btn-play",onClick:function(){var e=new URL(window.location.href).searchParams.get("game");t.push({pathname:"/play",search:"?game=".concat(e)}),window.localStorage.setItem("elements",JSON.stringify(C))},children:[Object(m.jsx)(b.m,{}),"Play"]})}),Object(m.jsx)("div",{className:"reactflow-wrapper",ref:h,children:Object(m.jsxs)(q.g,{onPaneClick:function(){console.log("NextNodes: ",Qt),console.log("Elements: ",C),console.log(typeof C),console.log("Tags: ",lt),console.log("SelectedTags: ",ft)},onLoad:function(e){G(e)},onElementClick:function(e,t){Be(t.id)},elements:C,onConnect:function(e){return S((function(t){return Object(q.f)(Object(U.a)(Object(U.a)({},e),{},{animated:!0,arrowHeadType:"arrowclosed",style:{color:"white",stroke:"white"}}),t)}))},onElementsRemove:da,onDrop:function(e){console.log("onDrop..."),C.length>=1&&-1!==C[0].id.search("1000")&&C.splice(0,1),e.preventDefault();var t=h.current.getBoundingClientRect(),n=e.dataTransfer.getData("application/reactflow"),a=D.project({x:e.clientX-t.left,y:e.clientY-t.top});ba(a,n,0,"")},onNodeDragStop:function(e,t){var n=h.current.getBoundingClientRect(),a=D.project({x:e.clientX-n.left-50,y:e.clientY-n.top-58});Ct(a),nn(t.id)},onDragOver:function(e){e.preventDefault(),e.dataTransfer.dropEffect="move"},nodeTypes:Oe,children:[Object(m.jsx)(q.d,{className:"reactflow-minimap"}),Object(m.jsx)(oe,{openModal:Pe,closeModal:ma,onChangeDescription:function(e){z(e),W(e.blocks.map((function(e){return e.text})).join("\n")),v((function(e){return Object(U.a)(Object(U.a)({},e),{},{desc:!0})}))},onChangeTitle:function(e){console.log(e.target.value),X(e.target.value),ee(e.target.value),v((function(e){return Object(U.a)(Object(U.a)({},e),{},{title:!0})}))},onChangeNodeStart:function(){ot(!0),rn(!0),Ve(!_e)},checkedStart:_e,onChangeNodeEnd:function(){ot(!0),ln(!0),Me(!Ke)},checkedEnd:Ke,onChangeDuration:function(e){Ze(e.target.value),nt(e.target.value),v((function(e){return Object(U.a)(Object(U.a)({},e),{},{duration:!0})}))},onChangeNoLigacao:function(e){Fe(e.target.value),""!==e.target.value&&(bn((function(t){return[].concat(Object(V.a)(t),[e.target.value])})),v((function(e){return Object(U.a)(Object(U.a)({},e),{},{noLigacao:!0})})))},onSaveChanges:ka,tagOptions:jt,handleInputChange:function(e){Ot(ft.splice(0,ft.length));var t=Array();e.map((function(e){return t.push({label:e.label,value:e.label,color:e.color}),Ot(t),0}))},onChangeOption:function(e){ae(e.target.value),""!==e.target.value&&(On((function(t){return[].concat(Object(V.a)(t),[e.target.value])})),v((function(e){return Object(U.a)(Object(U.a)({},e),{},{option:!0})})))},onChangeNodeImage:function(e){Cn(e.target.files?e.target.files[0]:e.target.files)},onChangeTheme:function(e){$n(e.value)},alt1Disabled:An,alt2Disabled:Fn,card1Disabled:Bn,card2Disabled:zn,currentNodeInfo:At,show:sa,onHide:function(){return ia(!1)}}),Object(m.jsx)(q.b,{}),Object(m.jsx)(q.a,{variant:"lines",size:.1,color:"#fff",gap:10}),Object(m.jsx)(le,{}),Object(m.jsx)("div",{children:Object(m.jsx)(he,{elements:C})})]})})]})]})})}n(194),n(392);var xe=[{pathRoute:"/home-teste",componentRoute:function(){return Object(m.jsx)("div",{className:"container-fluid bg-surface min-vh-100",children:Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)("div",{className:"col bg-surface min-vh-100",children:Object(m.jsx)(x,{})}),Object(m.jsxs)("div",{className:"col-7 d-flex flex-column",children:[Object(m.jsxs)("div",{className:"row flex-row justify-align-content-between w-100",children:[Object(m.jsx)("div",{className:"col d-flex flex-row justify-content-start p-0",children:Object(m.jsx)("h3",{children:"Your Games"})}),Object(m.jsxs)("div",{className:"col d-flex flex-row justify-content-end p-0",children:[Object(m.jsx)("button",{type:"button",className:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#gameCardModal",children:"Add Game"}),Object(m.jsx)(S,{})]})]}),Object(m.jsx)("div",{className:"row flex-row flex-wrap w-100"})]}),Object(m.jsx)("div",{className:"col-3 bg-surface sticky-top min-vh-100 p-1",children:Object(m.jsx)(E,{})})]})})}},{pathRoute:"/analytics",componentRoute:function(){return Object(m.jsx)("div",{className:"container-fluid bg-primary min-vh-100",children:Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)("div",{className:"col bg-surface min-vh-100",children:Object(m.jsx)(x,{})}),Object(m.jsx)("div",{className:"col-8 d-flex flex-row flex-wrap justify-content-center align-items-center p-0",children:Object(m.jsx)("h1",{children:"Em desenvolvimento..."})}),Object(m.jsx)("div",{className:"col bg-primary sticky-top min-vh-100 p-1"})]})})}},{pathRoute:"/explore",componentRoute:function(){return Object(m.jsx)("div",{className:"container-fluid bg-primary min-vh-100",children:Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)("div",{className:"col bg-surface min-vh-100",children:Object(m.jsx)(x,{})}),Object(m.jsx)("div",{className:"col-8 d-flex flex-row flex-wrap justify-content-center align-items-center p-0",children:Object(m.jsx)("h1",{children:"Em desenvolvimento..."})}),Object(m.jsx)("div",{className:"col bg-primary sticky-top min-vh-100 p-1"})]})})}},{pathRoute:"/library",componentRoute:function(){return Object(m.jsx)("div",{className:"container-fluid bg-primary min-vh-100",children:Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)("div",{className:"col bg-surface min-vh-100",children:Object(m.jsx)(x,{})}),Object(m.jsx)("div",{className:"col-8 d-flex flex-row flex-wrap justify-content-center align-items-center p-0",children:Object(m.jsx)("h1",{children:"Em desenvolvimento..."})}),Object(m.jsx)("div",{className:"col bg-primary sticky-top min-vh-100 p-1"})]})})}},{pathRoute:"/lists",componentRoute:function(){return Object(m.jsx)("div",{className:"container-fluid bg-primary min-vh-100",children:Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)("div",{className:"col bg-surface min-vh-100",children:Object(m.jsx)(x,{})}),Object(m.jsx)("div",{className:"col-8 d-flex flex-row flex-wrap justify-content-center align-items-center p-0",children:Object(m.jsx)("h1",{children:"Em desenvolvimento..."})}),Object(m.jsx)("div",{className:"col bg-primary sticky-top min-vh-100 p-1"})]})})}},{pathRoute:"/quizzes",componentRoute:function(){return Object(m.jsx)("div",{className:"container-fluid bg-primary min-vh-100",children:Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)("div",{className:"col bg-surface min-vh-100",children:Object(m.jsx)(x,{})}),Object(m.jsx)("div",{className:"col-8 d-flex flex-row flex-wrap justify-content-center align-items-center p-0",children:Object(m.jsx)("h1",{children:"Em desenvolvimento..."})}),Object(m.jsx)("div",{className:"col bg-primary sticky-top min-vh-100 p-1"})]})})}},{pathRoute:"/profile",componentRoute:function(){return Object(m.jsx)("div",{className:"container-fluid bg-primary min-vh-100",children:Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)("div",{className:"col bg-surface min-vh-100",children:Object(m.jsx)(x,{})}),Object(m.jsx)("div",{className:"col-8 d-flex flex-row flex-wrap justify-content-center align-items-center p-0",children:Object(m.jsx)("h1",{children:"Em desenvolvimento..."})}),Object(m.jsx)("div",{className:"col bg-primary sticky-top min-vh-100 p-1"})]})})}},{pathRoute:"/build-game",componentRoute:function(){return Object(m.jsx)("h1",{children:"Building Game!!!"})}}],ve=(n(393),n(205),n(129),n(206),function(){return Object(m.jsx)("div",{className:"container-fluid bg-primary min-vh-100",children:Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)("div",{className:"col bg-surface min-vh-100",children:Object(m.jsx)(x,{})}),Object(m.jsx)("div",{className:"col-8 d-flex flex-row flex-wrap justify-content-center align-items-center p-0",children:Object(m.jsx)("h1",{children:"Em desenvolvimento..."})}),Object(m.jsx)("div",{className:"col bg-primary sticky-top min-vh-100 p-1"})]})})}),ge=function(){return Object(m.jsx)(H,{children:Object(m.jsx)(s.a,{children:Object(m.jsxs)(i.d,{children:[Object(m.jsx)(i.b,{exact:!0,path:"/",component:L}),Object(m.jsx)(_,{exact:!0,path:"/home",component:I}),Object(m.jsx)(_,{exact:!0,path:"/editor",component:pe}),Object(m.jsx)(_,{exact:!0,path:"/play",component:ve}),xe.map((function(e,t){return Object(m.jsx)(i.b,{path:e.pathRoute,component:e.componentRoute},"dashboardRoute-".concat(t))}))]})})})};n(394);o.a.render(Object(m.jsx)(ge,{}),document.getElementById("root"))}},[[396,1,2]]]);
//# sourceMappingURL=main.dc6e4bec.chunk.js.map